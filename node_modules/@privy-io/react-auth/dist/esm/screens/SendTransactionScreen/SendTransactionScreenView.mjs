import{jsxs as o,Fragment as n,jsx as r}from"react/jsx-runtime";import{ChevronDownIcon as i}from"@heroicons/react/24/outline";import{styled as e}from"styled-components";import{PrimaryButton as t}from"../../components/Button.mjs";import{BlobbyFooter as s}from"../../components/ModalFooter.mjs";import{ModalHeader as m}from"../../components/ModalHeader.mjs";import{Rows as c,Row as a}from"../../components/ui/layout/Row.mjs";import{ErrorMessage as l}from"../../components/ui/typography/ErrorMessage.mjs";import{LabelSm as p,LabelSmPrimary as d}from"../../components/ui/typography/LabelSm.mjs";import{Subtitle as h}from"../../components/ui/typography/Subtitle.mjs";import{Title as j}from"../../components/ui/typography/Title.mjs";import{Value as u}from"../../components/ui/typography/Value.mjs";import{Address as g}from"../../components/ui/wallet/Address.mjs";import{WalletInfoCard as f}from"../../components/ui/wallet/WalletInfoCard.mjs";import{Grow as y}from"../LandingScreen/styles.mjs";import{TransactionDetail as b}from"./TransactionDetail.mjs";import{useTransactionDetails as x}from"./useTransactionDetails.mjs";import"../../components/Loader.mjs";import"../../svg/protected-by-privy.mjs";import"@heroicons/react/24/outline/ArrowLeftIcon";import"@heroicons/react/24/outline/ArrowRightIcon";import"@heroicons/react/24/outline/QuestionMarkCircleIcon";import"@heroicons/react/24/outline/XMarkIcon";import"../../configuration/context.mjs";import"react";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../constants.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../connectors/chains/utils.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";import"../../hooks/internal-context.mjs";import"../../hooks/index.mjs";import"../../components/ui/animation/LoadingSkeleton.mjs";import"@heroicons/react/24/outline/CheckIcon";import"@heroicons/react/24/outline/Square2StackIcon";import"../../utils/index.mjs";import"@ethersproject/providers";import"../../connectors/get-legacy-injected-providers.mjs";import"../../connectors/is-wallet-installed.mjs";import"../../errors.mjs";import"ofetch";import"../../components/ui/chips/Chip.mjs";import"../../components/ui/layout/Column.mjs";import"../../components/ui/typography/LabelXs.mjs";import"../../components/ui/wallet/shared.mjs";import"@ethersproject/address";const k=({transactionIndex:o,maxIndex:n})=>"number"!=typeof o||0===n?"":` (${o+1} / ${n+1})`,I=({img:e,submitError:f,prepareError:I,onClose:T,action:v,title:L,subtitle:A,total:M,txValue:D,to:$,network:E,missingFunds:N,fee:F,from:z,cta:q,disabled:B,chain:H,isSubmitting:P,isPreparing:R,isTokenPriceLoading:V,isTokenContractInfoLoading:W,isSponsored:X,symbol:Y,balance:Q,onClick:G,transactionDetails:J,transactionIndex:K,maxIndex:O,onBack:U,chainName:Z})=>{let{showTransactionDetails:_,setShowTransactionDetails:oo,hasMoreDetails:no,isErc20Ish:ro}=x(J);/*#__PURE__*/return o(n,{children:[/*#__PURE__*/r(m,{onClose:T,backFn:U}),e&&/*#__PURE__*/r(S,{children:e}),/*#__PURE__*/o(j,{style:{marginTop:e?"1.5rem":0},children:[L,/*#__PURE__*/r(k,{maxIndex:O,transactionIndex:K})]}),/*#__PURE__*/r(h,{children:A}),/*#__PURE__*/o(c,{style:{marginTop:"2rem"},children:[ro&&/*#__PURE__*/o(n,{children:["approve"===v&&/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"Action"}),/*#__PURE__*/r(u,{children:J?.action})]}),/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"Amount"}),/*#__PURE__*/o(u,{$isLoading:ro&&W,children:[J?.formattedAmount," ",Y]})]})]}),M&&/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"Total"}),/*#__PURE__*/r(u,{$isLoading:R||V,children:M})]}),J&&"spender"in J&&J?.spender?/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"Spender"}),/*#__PURE__*/r(u,{children:/*#__PURE__*/r(g,{address:J.spender,url:H?.blockExplorers?.default?.url,showCopyIcon:!1})})]}):null,$&&/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"To"}),/*#__PURE__*/r(u,{children:/*#__PURE__*/r(g,{address:$,url:H?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"Network"}),/*#__PURE__*/r(u,{children:E})]}),/*#__PURE__*/o(a,{children:[/*#__PURE__*/r(p,{children:"Estimated fee"}),/*#__PURE__*/r(u,{$isLoading:R||V||void 0===X,children:X?"Sponsored":F})]}),no&&/*#__PURE__*/o(n,{children:[/*#__PURE__*/r(a,{className:"cursor-pointer",onClick:()=>oo(!_),children:/*#__PURE__*/o(d,{className:"flex items-center gap-x-1",children:["Details"," ",/*#__PURE__*/r(i,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:_?"rotate(180deg)":void 0}})]})}),_&&J&&/*#__PURE__*/r(b,{action:v,chain:H,transactionDetails:J,isTokenContractInfoLoading:W,symbol:Y})]})]}),/*#__PURE__*/r(y,{}),f?/*#__PURE__*/r(l,{style:{marginTop:"2rem"},children:f.message}):I?/*#__PURE__*/r(l,{style:{marginTop:"2rem"},children:C}):null,/*#__PURE__*/r(w,{$useSmallMargins:!(!I&&!f),title:Number(D)>0?void 0:!1!==X?"Your wallet":void 0,address:z,balance:Q,isLoading:R||V,errMsg:R||I||f||!N?void 0:`Add funds on ${H?.name??Z} to complete transaction.`}),/*#__PURE__*/r(t,{style:{marginTop:"1rem"},loading:P,disabled:B||R,onClick:G,children:q}),/*#__PURE__*/r(s,{})]})};let w=/*#__PURE__*/e(f).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-3f0b455d-0"})(["",""],(o=>o.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),C="There was an error preparing your transaction. Your transaction request will likely fail.",S=/*#__PURE__*/e.div.withConfig({displayName:"ImageContainer",componentId:"sc-3f0b455d-1"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]);export{I as SendTransactionScreenView,k as TransactionIndex};
