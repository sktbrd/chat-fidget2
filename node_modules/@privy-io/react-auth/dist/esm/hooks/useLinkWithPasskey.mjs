import{useCallback as t}from"react";import{usePrivyInternal as e}from"./internal-context.mjs";import"./index.mjs";const r=r=>{let{initLinkWithPasskey:s,linkWithPasskey:i,passkeyAuthState:a,setPasskeyAuthState:o}=e();return{linkWithPasskey:t((async()=>{try{await s();let t=await i();if(!t)throw Error("Error, user not found");let e=t.linkedAccounts.filter((t=>"passkey"===t.type)).sort(((t,e)=>e.latestVerifiedAt.getTime()-t.latestVerifiedAt.getTime()))[0];r?.onSuccess?.(t,"passkey",e)}catch(t){throw o({status:"error",error:t}),r?.onError?.(t,{linkMethod:"passkey"}),t}}),[i]),state:a}};export{r as useLinkWithPasskey};
