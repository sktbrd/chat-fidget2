import{jsxs as o,jsx as i,Fragment as n}from"react/jsx-runtime";import r from"@heroicons/react/24/outline/ChevronDownIcon";import{useState as t,useEffect as e}from"react";import{styled as c}from"styled-components";import{BackButton as s,NextButton as m}from"../ModalHeader.mjs";import{Rows as a,Row as l}from"../ui/layout/Row.mjs";import{LabelSm as p}from"../ui/typography/LabelSm.mjs";import{Value as d}from"../ui/typography/Value.mjs";import{SolanaPriceDisplay as h}from"./PriceDisplay.mjs";import{WalletLink as j}from"./WalletLink.mjs";import"@heroicons/react/24/outline/ArrowLeftIcon";import"@heroicons/react/24/outline/ArrowRightIcon";import"@heroicons/react/24/outline/QuestionMarkCircleIcon";import"@heroicons/react/24/outline/XMarkIcon";import"../../configuration/context.mjs";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../constants.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../connectors/chains/utils.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";import"../../hooks/internal-context.mjs";import"../../hooks/index.mjs";import"../ui/animation/LoadingSkeleton.mjs";import"../../lib/ethers.mjs";import"@ethersproject/bignumber";import"@ethersproject/units";import"@privy-io/js-sdk-core";import"../../utils/index.mjs";import"@ethersproject/providers";import"../../connectors/get-legacy-injected-providers.mjs";import"../../connectors/is-wallet-installed.mjs";import"../../errors.mjs";import"ofetch";import"../../lib/solana/transaction.mjs";import"../../utils/buffer/readBigInt64LE.mjs";const u=({instructions:c,fees:j,transactionInfo:u,solPrice:v,rpcEndpoint:I})=>{let C=c.reduce(((o,{amount:i})=>i?o+i:o),0n),[A,P]=t(0),[E,N]=t(!1),L=c[A];return e((()=>{P(0)}),[c]),/*#__PURE__*/o(a,{children:[/*#__PURE__*/o(l,{children:[/*#__PURE__*/i(p,{children:"Total"}),/*#__PURE__*/i(d,{children:/*#__PURE__*/i(h,{quantities:[C,j],tokenPrice:v})})]}),u&&u.action&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/i(p,{children:"Action"}),/*#__PURE__*/i(d,{children:u.action})]}),/*#__PURE__*/o(l,{children:[/*#__PURE__*/i(p,{children:"Fees"}),/*#__PURE__*/i(d,{children:/*#__PURE__*/i(h,{quantities:[j||0n],tokenPrice:v})})]}),c.length>1?/*#__PURE__*/o(n,{children:[/*#__PURE__*/i(l,{children:/*#__PURE__*/o(k,{onClick:()=>N((o=>!o)),children:[/*#__PURE__*/i("span",{children:"Details"}),/*#__PURE__*/i(r,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:E?"rotate(180deg)":void 0}})]})}),E&&/*#__PURE__*/i(l,{children:/*#__PURE__*/o(g,{children:[/*#__PURE__*/o(y,{children:[/*#__PURE__*/o(x,{children:[A+1," of ",c.length," instructions"]}),/*#__PURE__*/o(w,{children:[A>0&&/*#__PURE__*/i(s,{backFn:()=>P((o=>o-1))}),A<c.length-1&&/*#__PURE__*/i(m,{nextFn:()=>P((o=>o+1))})]})]}),/*#__PURE__*/i(b,{children:/*#__PURE__*/i(f,{instruction:L,rpcEndpoint:I,solPrice:v})})]})})]}):/*#__PURE__*/i(f,{instruction:L,rpcEndpoint:I,solPrice:v,hideAmount:!0})]})};function f({instruction:n,rpcEndpoint:r,solPrice:t,hideAmount:e}){return n?/*#__PURE__*/o(a,{children:[!e&&!!n.amount&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/i(p,{children:"Amount"}),/*#__PURE__*/i(d,{children:/*#__PURE__*/i(h,{quantities:[n.amount],tokenPrice:t})})]}),n.to&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/i(p,{children:"To"}),/*#__PURE__*/i(d,{children:/*#__PURE__*/i(j,{walletAddress:n.to,rpcEndpoint:r,network:"solana"})})]}),n.from&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/i(p,{children:"From"}),/*#__PURE__*/i(d,{children:/*#__PURE__*/i(j,{walletAddress:n.from,rpcEndpoint:r,network:"solana"})})]})]}):null}let g=/*#__PURE__*/c.div.withConfig({displayName:"InstructionsBox",componentId:"sc-d21e256c-0"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),y=/*#__PURE__*/c.header.withConfig({displayName:"InstructionsBoxHeader",componentId:"sc-d21e256c-1"})(["display:flex;justify-content:space-between;align-items:center;padding:12px;background-color:var(--privy-color-background-2);"]),x=/*#__PURE__*/c.h4.withConfig({displayName:"HeaderTitle",componentId:"sc-d21e256c-2"})(["font-size:14px;font-weight:500;line-height:19.6px;"]),b=/*#__PURE__*/c.div.withConfig({displayName:"InstructionsBoxContent",componentId:"sc-d21e256c-3"})(["padding:12px;"]),w=/*#__PURE__*/c.div.withConfig({displayName:"NavigationButtonsConatiner",componentId:"sc-d21e256c-4"})(["display:flex;gap:8px;align-items:center;"]),k=/*#__PURE__*/c(p).withConfig({displayName:"InteractiveLabel",componentId:"sc-d21e256c-5"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;"]);export{u as SolanaTransactionDetails};
