import{jsx as o}from"react/jsx-runtime";import{useState as i,useMemo as t,useEffect as n}from"react";import{styled as r}from"styled-components";import{populateTransactionRequest as s,calculateTotalGasEstimate as m}from"@privy-io/js-sdk-core";import{usePrivyInternal as e}from"../../hooks/internal-context.mjs";import{usePrivyContext as c}from"../../hooks/privy-context.mjs";import{useGetTokenPrice as a}from"../../hooks/useGetTokenPrice.mjs";import{useWallets as p}from"../../hooks/useWallets.mjs";import{getJsonRpcProvider as l}from"../../utils/index.mjs";import{TransactionDetails as j}from"./TransactionDetails.mjs";import"../../hooks/index.mjs";import"../../connectors/chains/utils.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../constants.mjs";import"../../hooks/useGetSolPrice.mjs";import"@ethersproject/providers";import"../../connectors/get-legacy-injected-providers.mjs";import"../../connectors/is-wallet-installed.mjs";import"../../errors.mjs";import"ofetch";import"./DisplayInfoItem.mjs";import"./PriceDisplay.mjs";import"../../lib/ethers.mjs";import"@ethersproject/bignumber";import"@ethersproject/units";import"../../lib/solana/transaction.mjs";import"../../utils/buffer/readBigInt64LE.mjs";import"./TransactionTotal.mjs";import"../Layouts.mjs";import"../primitives/Accordion/index.mjs";import"@heroicons/react/24/outline/ChevronDownIcon";import"../primitives/Accordion/AccordionContext.mjs";import"../../configuration/context.mjs";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";import"./WalletLink.mjs";const h=({pendingTransaction:r})=>{let{getAccessToken:h}=c(),{wallets:f}=p(),{walletProxy:u,rpcConfig:g,chains:y,appId:b,nativeTokenSymbolForChainId:k}=e(),[x,v]=i(null),[I,T]=i(r),{tokenPrice:w}=a(I.chainId),C=k(r.chainId)||"ETH",S=t((()=>f.find((o=>"privy"===o.walletClientType))),[f]);return n((()=>{(async function(){if(!await h()||!u||!S)return I;let o=l(I.chainId,y,g,{appId:b}),i=await s(S.address,I,o),{totalGasEstimate:t}=await m(i,o);return v(t.toHexString()),i})().then(T).catch(console.error)}),[u]),S?/*#__PURE__*/o(d,{children:/*#__PURE__*/o(j,{from:S.address,to:I.to,txn:I,gas:x??void 0,tokenPrice:w,tokenSymbol:C})}):null};let d=/*#__PURE__*/r.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-d00f06ba-0"})(["width:100%;padding:1rem 0;"]);export{h as TransactionDetailsWrapper};
