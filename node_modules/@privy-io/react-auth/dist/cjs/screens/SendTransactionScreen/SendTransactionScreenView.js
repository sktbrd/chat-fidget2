"use strict";var e=require("react/jsx-runtime"),r=require("@heroicons/react/24/outline"),n=require("styled-components"),s=require("../../components/Button.js"),i=require("../../components/ModalFooter.js"),o=require("../../components/ModalHeader.js"),a=require("../../components/ui/layout/Row.js"),t=require("../../components/ui/typography/ErrorMessage.js"),c=require("../../components/ui/typography/LabelSm.js"),l=require("../../components/ui/typography/Subtitle.js"),u=require("../../components/ui/typography/Title.js"),d=require("../../components/ui/typography/Value.js"),j=require("../../components/ui/wallet/Address.js"),h=require("../../components/ui/wallet/WalletInfoCard.js"),m=require("../LandingScreen/styles.js"),p=require("./TransactionDetail.js"),q=require("./useTransactionDetails.js");require("../../components/Loader.js"),require("../../svg/protected-by-privy.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("../../configuration/context.js"),require("react"),require("../../config.js"),require("../../configuration/defaultClientConfig.js"),require("../../constants.js"),require("../../configuration/login-methods.js"),require("../../configuration/wallets.js"),require("../../connectors/chains/index.js"),require("../../connectors/chains/arbitrum.js"),require("../../connectors/chains/arbitrumSepolia.js"),require("../../connectors/chains/avalanche.js"),require("../../connectors/chains/avalancheFuji.js"),require("../../connectors/chains/base.js"),require("../../connectors/chains/baseSepolia.js"),require("../../connectors/chains/berachainArtio.js"),require("../../connectors/chains/celo.js"),require("../../connectors/chains/celoAlfajores.js"),require("../../connectors/chains/filecoin.js"),require("../../connectors/chains/filecoinCalibration.js"),require("../../connectors/chains/garnetHolesky.js"),require("../../connectors/chains/holesky.js"),require("../../connectors/chains/linea.js"),require("../../connectors/chains/lineaTestnet.js"),require("../../connectors/chains/lukso.js"),require("../../connectors/chains/mainnet.js"),require("../../connectors/chains/optimism.js"),require("../../connectors/chains/optimismSepolia.js"),require("../../connectors/chains/polygon.js"),require("../../connectors/chains/polygonAmoy.js"),require("../../connectors/chains/redstone.js"),require("../../connectors/chains/sepolia.js"),require("../../connectors/chains/zora.js"),require("../../connectors/chains/zoraSepolia.js"),require("../../connectors/chains/zoraTestnet.js"),require("../../connectors/chains/utils.js"),require("../../lib/solana/index.js"),require("../../theme.js"),require("tinycolor2"),require("../../lib/cybr53.js"),require("../../hooks/internal-context.js"),require("../../hooks/index.js"),require("../../components/ui/animation/LoadingSkeleton.js"),require("@heroicons/react/24/outline/CheckIcon"),require("@heroicons/react/24/outline/Square2StackIcon"),require("../../utils/index.js"),require("@ethersproject/providers"),require("../../connectors/get-legacy-injected-providers.js"),require("../../connectors/is-wallet-installed.js"),require("../../errors.js"),require("ofetch"),require("../../components/ui/chips/Chip.js"),require("../../components/ui/layout/Column.js"),require("../../components/ui/typography/LabelXs.js"),require("../../components/ui/wallet/shared.js"),require("@ethersproject/address");const x=({transactionIndex:e,maxIndex:r})=>"number"!=typeof e||0===r?"":` (${e+1} / ${r+1})`;let g=/*#__PURE__*/n.styled(h.WalletInfoCard).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-3f0b455d-0"})(["",""],(e=>e.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),y="There was an error preparing your transaction. Your transaction request will likely fail.",b=/*#__PURE__*/n.styled.div.withConfig({displayName:"ImageContainer",componentId:"sc-3f0b455d-1"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]);exports.SendTransactionScreenView=({img:n,submitError:h,prepareError:f,onClose:w,action:S,title:I,subtitle:k,total:C,txValue:T,to:L,network:v,missingFunds:A,fee:M,from:D,cta:R,disabled:V,chain:E,isSubmitting:F,isPreparing:$,isTokenPriceLoading:N,isTokenContractInfoLoading:B,isSponsored:P,symbol:z,balance:H,onClick:W,transactionDetails:X,transactionIndex:Y,maxIndex:G,onBack:Q,chainName:J})=>{let{showTransactionDetails:K,setShowTransactionDetails:O,hasMoreDetails:U,isErc20Ish:Z}=q.useTransactionDetails(X);/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(o.ModalHeader,{onClose:w,backFn:Q}),n&&/*#__PURE__*/e.jsx(b,{children:n}),/*#__PURE__*/e.jsxs(u.Title,{style:{marginTop:n?"1.5rem":0},children:[I,/*#__PURE__*/e.jsx(x,{maxIndex:G,transactionIndex:Y})]}),/*#__PURE__*/e.jsx(l.Subtitle,{children:k}),/*#__PURE__*/e.jsxs(a.Rows,{style:{marginTop:"2rem"},children:[Z&&/*#__PURE__*/e.jsxs(e.Fragment,{children:["approve"===S&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Action"}),/*#__PURE__*/e.jsx(d.Value,{children:X?.action})]}),/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Amount"}),/*#__PURE__*/e.jsxs(d.Value,{$isLoading:Z&&B,children:[X?.formattedAmount," ",z]})]})]}),C&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Total"}),/*#__PURE__*/e.jsx(d.Value,{$isLoading:$||N,children:C})]}),X&&"spender"in X&&X?.spender?/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Spender"}),/*#__PURE__*/e.jsx(d.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:X.spender,url:E?.blockExplorers?.default?.url,showCopyIcon:!1})})]}):null,L&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"To"}),/*#__PURE__*/e.jsx(d.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:L,url:E?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Network"}),/*#__PURE__*/e.jsx(d.Value,{children:v})]}),/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Estimated fee"}),/*#__PURE__*/e.jsx(d.Value,{$isLoading:$||N||void 0===P,children:P?"Sponsored":M})]}),U&&/*#__PURE__*/e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(a.Row,{className:"cursor-pointer",onClick:()=>O(!K),children:/*#__PURE__*/e.jsxs(c.LabelSmPrimary,{className:"flex items-center gap-x-1",children:["Details"," ",/*#__PURE__*/e.jsx(r.ChevronDownIcon,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:K?"rotate(180deg)":void 0}})]})}),K&&X&&/*#__PURE__*/e.jsx(p.TransactionDetail,{action:S,chain:E,transactionDetails:X,isTokenContractInfoLoading:B,symbol:z})]})]}),/*#__PURE__*/e.jsx(m.Grow,{}),h?/*#__PURE__*/e.jsx(t.ErrorMessage,{style:{marginTop:"2rem"},children:h.message}):f?/*#__PURE__*/e.jsx(t.ErrorMessage,{style:{marginTop:"2rem"},children:y}):null,/*#__PURE__*/e.jsx(g,{$useSmallMargins:!(!f&&!h),title:Number(T)>0?void 0:!1!==P?"Your wallet":void 0,address:D,balance:H,isLoading:$||N,errMsg:$||f||h||!A?void 0:`Add funds on ${E?.name??J} to complete transaction.`}),/*#__PURE__*/e.jsx(s.PrimaryButton,{style:{marginTop:"1rem"},loading:F,disabled:V||$,onClick:W,children:R}),/*#__PURE__*/e.jsx(i.BlobbyFooter,{})]})},exports.TransactionIndex=x;
