"use strict";var e=require("react/jsx-runtime"),r=require("@heroicons/react/24/outline/UserCircleIcon"),o=require("react"),s=require("styled-components"),i=require("../../components/ModalFooter.js"),n=require("../../components/ModalHeader.js"),t=require("../../configuration/context.js"),a=require("../../hooks/internal-context.js"),l=require("../../hooks/modal-context.js"),c=require("../../lib/toDisplayFromAccountType.js"),u=require("../../recent-login/context.js"),p=require("../../utils/index.js"),j=require("./AppLogoHeader.js"),d=require("./CrossAppButton.js"),q=require("./EmailButton.js"),h=require("./FarcasterButton.js"),g=require("./PasskeyLink.js"),m=require("./SmsButton.js"),v=require("./SocialButton.js"),f=require("./TelegramButton.js"),y=require("./WalletButtonList.js"),x=require("./Web2OverflowButton.js"),b=require("./styles.js");function w(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../svg/protected-by-privy.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("../../config.js"),require("../../configuration/defaultClientConfig.js"),require("../../constants.js"),require("../../configuration/login-methods.js"),require("../../configuration/wallets.js"),require("../../connectors/chains/index.js"),require("../../connectors/chains/arbitrum.js"),require("../../connectors/chains/arbitrumSepolia.js"),require("../../connectors/chains/avalanche.js"),require("../../connectors/chains/avalancheFuji.js"),require("../../connectors/chains/base.js"),require("../../connectors/chains/baseSepolia.js"),require("../../connectors/chains/berachainArtio.js"),require("../../connectors/chains/celo.js"),require("../../connectors/chains/celoAlfajores.js"),require("../../connectors/chains/filecoin.js"),require("../../connectors/chains/filecoinCalibration.js"),require("../../connectors/chains/garnetHolesky.js"),require("../../connectors/chains/holesky.js"),require("../../connectors/chains/linea.js"),require("../../connectors/chains/lineaTestnet.js"),require("../../connectors/chains/lukso.js"),require("../../connectors/chains/mainnet.js"),require("../../connectors/chains/optimism.js"),require("../../connectors/chains/optimismSepolia.js"),require("../../connectors/chains/polygon.js"),require("../../connectors/chains/polygonAmoy.js"),require("../../connectors/chains/redstone.js"),require("../../connectors/chains/sepolia.js"),require("../../connectors/chains/zora.js"),require("../../connectors/chains/zoraSepolia.js"),require("../../connectors/chains/zoraTestnet.js"),require("../../connectors/chains/utils.js"),require("../../lib/solana/index.js"),require("../../theme.js"),require("tinycolor2"),require("../../lib/cybr53.js"),require("../../hooks/index.js"),require("../../components/PrefetchedImage.js"),require("../index.js"),require("../../hooks/events-context.js"),require("../../storage.js"),require("@ethersproject/providers"),require("../../connectors/get-legacy-injected-providers.js"),require("../../connectors/is-wallet-installed.js"),require("../../errors.js"),require("ofetch"),require("../../components/AppLogo.js"),require("../../components/Loader.js"),require("../../components/ProviderAppLogo.js"),require("../../hooks/privy-context.js"),require("@heroicons/react/24/outline/EnvelopeIcon"),require("../../components/ConnectEmailForm.js"),require("../../hooks/captcha-context.js"),require("../../components/Button.js"),require("../../components/ui/chips/Chip.js"),require("../../components/ui/animation/LoadingSkeleton.js"),require("../../components/ui/forms/EmailInputForm.js"),require("../../components/ui/typography/ErrorMessage.js"),require("../../svg/farcaster.js"),require("@heroicons/react/24/outline/PhoneIcon"),require("../../components/ConnectPhoneForm.js"),require("@privy-io/js-sdk-core"),require("../../components/PhoneCountryDropdown.js"),require("../../svg/apple.js"),require("../../svg/discord.js"),require("../../svg/github.js"),require("../../svg/google.js"),require("../../svg/instagram.js"),require("../../svg/linkedin.js"),require("../../svg/spotify.js"),require("../../svg/tiktok.js"),require("../../svg/twitter.js"),require("../../svg/telegram.js"),require("./EmptyWalletView.js"),require("./WalletButton.js"),require("react-device-detect"),require("../../components/external-wallets/InjectedWalletIcon.js"),require("@heroicons/react/24/outline/WalletIcon"),require("../../lib/external-wallets/displayHelpers.js"),require("../../svg/brave-browser-icon.js"),require("../../svg/bybit.js"),require("../../svg/coinbase-wallet.js"),require("../../svg/cryptocom.js"),require("../../svg/metamask.js"),require("../../svg/phantom.js"),require("../../svg/rabby.js"),require("../../svg/rainbow.js"),require("../../svg/safe.js"),require("../../svg/uniswap.js"),require("../../svg/universal-profile.js"),require("../../svg/wallet-connect.js"),require("../../svg/zerion.js"),require("../../lib/isEmbeddedWebview.js"),require("@heroicons/react/24/outline/ChevronRightIcon");var k=/*#__PURE__*/w(r);let B=e=>`${e.props.provider}:${e.props.displayName}`;let S=({primary:e,overflow:r})=>e<5?e:5===e&&0===r?5:4,C=/*#__PURE__*/s.styled(j.AppLogoHeader).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-5bf511fb-0"})(["margin-bottom:16px;"]);exports.CustomLandingScreenView=({connectOnly:r})=>{let{closePrivyModal:s,connectors:j}=a.usePrivyInternal(),{app:w,onUserCloseViaDialogOrKeybindRef:M,data:A}=l.usePrivyModal(),{appearance:{palette:{colorScheme:I}}}=t.useAppConfig(),{accountType:L,walletClientType:E,chainType:F}=u.useRecentlyUsedLogin(),T=L?c.toDisplayFromAccountType(L):null,W=w.loginMethodsAndOrder?.primary??[],O=w.loginMethodsAndOrder?.overflow??[],P=[...W,...O],H=w.loginMethods.passkey,V=A?.login,z=[];E&&P.includes(E)?z.push(E):L&&P.includes(T?.loginMethod)&&z.push(T?.loginMethod);let[D,R]=o.useState("default"),[U,$]=o.useState("phone"===L?"sms":"email");o.useEffect((()=>{"phone"===L&&$("sms");let e=P.indexOf("sms"),r=P.indexOf("email");e>-1&&e<r&&$("sms")}),[L,W,O]);let N=()=>{s({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{R("default")}),150)};M.current=N;let K=o=>"email"===o?/*#__PURE__*/e.jsx(q.EmailButton,{isEditable:"email"===U,setIsEditable:()=>{$("email")},defaultValue:"email"===V?.prefill?.type?V.prefill.value:void 0},o):"sms"===o?/*#__PURE__*/e.jsx(m.SmsButton,{isEditable:"sms"===U,setIsEditable:()=>{$("sms")},defaultValue:"phone"===V?.prefill?.type?V.prefill.value:void 0},o):"apple"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"apple"},o):"discord"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"discord"},o):"farcaster"===o?/*#__PURE__*/e.jsx(h.FarcasterButton,{},o):"github"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"github"},o):"google"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"google"},o):"linkedin"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"linkedin"},o):"spotify"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"spotify"},o):"instagram"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"instagram"},o):"tiktok"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"tiktok"},o):"twitter"===o?/*#__PURE__*/e.jsx(v.SocialButton,{provider:"twitter"},o):"telegram"===o?/*#__PURE__*/e.jsx(f.TelegramButton,{},o):o.startsWith("privy:")?/*#__PURE__*/e.jsx(d.CrossAppButton,{appId:o.replace("privy:","")},o):y.toWalletButtons({walletList:w.appearance.walletList,walletChainType:w.appearance.walletChainType,connectors:j,connectOnly:r,ignore:[],walletConnectEnabled:w.externalWallets.walletConnect.enabled,forceWallet:{wallet:o,chainType:F??"ethereum"}}),Q=z.flatMap(K),X=W.filter((e=>e!==E&&e!==T?.loginMethod)).flatMap(K),Y=O.filter((e=>e!==E&&e!==T?.loginMethod)).flatMap(K),G=Y.filter((e=>!X.map(B).includes(B(e)))),[J,Z]=p.splitAtIndex([...Q,...X,...G],S({primary:X.length+Q.length,overflow:Y.length}));/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(n.ModalHeader,{title:w.appearance.landingHeader,onClose:N,backFn:"default"===D?void 0:()=>{R("default")}}),"default"===D&&/*#__PURE__*/e.jsx(C,{}),"default"===D&&("string"==typeof w.appearance.loginMessage?/*#__PURE__*/e.jsx(b.Subtitle,{children:w.appearance.loginMessage}):w.appearance.loginMessage),/*#__PURE__*/e.jsx(b.AlignBottom,{style:{overflow:"hidden"},children:/*#__PURE__*/e.jsxs(b.LoginMethodContainerWithScrollShadows,{$colorScheme:I,style:{maxHeight:400,overflowY:"scroll",padding:2},children:["default"===D&&/*#__PURE__*/e.jsxs(e.Fragment,{children:[J,Z.length>0&&/*#__PURE__*/e.jsx(x.Web2OverflowButton,{text:"More options",icon:/*#__PURE__*/e.jsx(k.default,{}),onClick:()=>R("overflow")})]}),"overflow"===D&&/*#__PURE__*/e.jsx(e.Fragment,{children:Z}),H&&"default"===D&&/*#__PURE__*/e.jsx(g.PasskeyLink,{})]})}),w&&/*#__PURE__*/e.jsx(i.TermsAndConditions,{app:w}),/*#__PURE__*/e.jsx(i.BlobbyFooter,{})]})};
