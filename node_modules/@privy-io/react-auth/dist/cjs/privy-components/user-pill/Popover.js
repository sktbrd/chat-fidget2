"use strict";var e=require("react/jsx-runtime"),t=require("@floating-ui/react");function r(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=/*#__PURE__*/r(require("react"));function o({initialOpen:e=!1,placement:r="bottom",modal:o,onOpenChange:s}={}){let[i,l]=n.useState(e),[a,c]=n.useState(),[d,u]=n.useState(),p=e=>{l(e),s?.(e)},f=t.useFloating({placement:r,open:i,onOpenChange:p,whileElementsMounted:t.autoUpdate,middleware:[t.offset(5),t.flip({crossAxis:r.includes("-"),fallbackAxisSideDirection:"end",padding:5}),t.shift({padding:5})]}),g=f.context,x=t.useInteractions([t.useClick(g,{enabled:!0}),t.useDismiss(g),t.useRole(g)]);return n.useMemo((()=>({open:i,setOpen:p,...x,...f,modal:o,labelId:a,descriptionId:d,setLabelId:c,setDescriptionId:u})),[i,p,x,f,o,a,d])}let s=/*#__PURE__*/n.createContext(null);const i=()=>{let e=n.useContext(s);if(null==e)throw Error("Popover components must be wrapped in <Popover />");return e};const l=/*#__PURE__*/n.forwardRef((function({children:r,asChild:o=!1,...s},l){let a=i(),c=r.ref,d=t.useMergeRefs([a.refs.setReference,l,c]);return o&&/*#__PURE__*/n.isValidElement(r)?/*#__PURE__*/n.cloneElement(r,a.getReferenceProps({ref:d,...s,...r.props,"data-state":a.open?"open":"closed"})):/*#__PURE__*/e.jsx("button",{ref:d,type:"button","data-state":a.open?"open":"closed",...a.getReferenceProps(s),children:r})})),a=/*#__PURE__*/n.forwardRef((function({style:r,...n},o){let{context:s,...l}=i(),a=t.useMergeRefs([l.refs.setFloating,o]),{isMounted:c,styles:d}=t.useTransitionStyles(s,{initial:{opacity:0,transform:"scale(0.9)",transformOrigin:"top right"}});/*#__PURE__*/return e.jsx(t.FloatingPortal,{children:/*#__PURE__*/e.jsx(t.FloatingFocusManager,{context:s,modal:l.modal,children:c?/*#__PURE__*/e.jsx("div",{ref:a,style:{...l.floatingStyles,...r},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(n),children:/*#__PURE__*/e.jsx("div",{style:d,children:n.children})}):/*#__PURE__*/e.jsx("div",{})})})})),c=/*#__PURE__*/n.forwardRef((function(t,r){let{setOpen:n}=i();/*#__PURE__*/return e.jsx("button",{type:"button",ref:r,...t,onClick:e=>{t.onClick?.(e),n(!1)}})}));exports.Popover=function({children:t,modal:r=!1,...n}){let i=o({modal:r,...n});/*#__PURE__*/return e.jsx(s.Provider,{value:i,children:t})},exports.PopoverClose=c,exports.PopoverContent=a,exports.PopoverTrigger=l,exports.usePopover=o,exports.usePopoverContext=i;
