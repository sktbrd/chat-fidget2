"use strict";var e=require("../errors.js"),r=require("./events-context.js"),t=require("./internal-context.js"),i=require("./privy-context.js");require("ofetch"),require("react"),require("./index.js");let n=async(r,t,i,n,o)=>{if(!r)throw n("linkAccount","onError",e.PrivyErrorCode.MUST_BE_AUTHENTICATED,{linkMethod:o}),new e.PrivyClientError("User must be authenticated before linking an account.");if(!t?.linkedAccounts.some((e=>e.type.includes(o))))throw new e.PrivyClientError(`OAuth account of type ${o} not linked to the account.`);await i(o)};exports.useOAuthTokens=function(e){let{authenticated:o,user:u}=i.usePrivyContext(),{initLoginWithOAuth:s}=t.usePrivyInternal(),c=r.useEmitPrivyEvent();return r.usePrivyEventSubscription("oAuthAuthorization",e),{reauthorize:e=>n(o,u,s,c,e.provider)}};
