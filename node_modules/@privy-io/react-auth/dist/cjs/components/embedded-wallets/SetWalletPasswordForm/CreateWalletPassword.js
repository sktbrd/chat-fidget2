"use strict";var e=require("react/jsx-runtime"),r=require("@heroicons/react/24/outline/KeyIcon"),o=require("@heroicons/react/24/solid/CheckCircleIcon"),s=require("react"),n=require("styled-components"),i=require("../../../password.js"),t=require("../../Layouts.js"),c=require("../../ModalFooter.js"),a=require("../../ModalHeader.js"),l=require("./shared.js");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("fast-password-entropy"),require("secure-password-utilities"),require("secure-password-utilities/wordlists"),require("../../../svg/protected-by-privy.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("../../../configuration/context.js"),require("../../../config.js"),require("../../../configuration/defaultClientConfig.js"),require("../../../constants.js"),require("../../../configuration/login-methods.js"),require("../../../configuration/wallets.js"),require("../../../connectors/chains/index.js"),require("../../../connectors/chains/arbitrum.js"),require("../../../connectors/chains/arbitrumSepolia.js"),require("../../../connectors/chains/avalanche.js"),require("../../../connectors/chains/avalancheFuji.js"),require("../../../connectors/chains/base.js"),require("../../../connectors/chains/baseSepolia.js"),require("../../../connectors/chains/berachainArtio.js"),require("../../../connectors/chains/celo.js"),require("../../../connectors/chains/celoAlfajores.js"),require("../../../connectors/chains/filecoin.js"),require("../../../connectors/chains/filecoinCalibration.js"),require("../../../connectors/chains/garnetHolesky.js"),require("../../../connectors/chains/holesky.js"),require("../../../connectors/chains/linea.js"),require("../../../connectors/chains/lineaTestnet.js"),require("../../../connectors/chains/lukso.js"),require("../../../connectors/chains/mainnet.js"),require("../../../connectors/chains/optimism.js"),require("../../../connectors/chains/optimismSepolia.js"),require("../../../connectors/chains/polygon.js"),require("../../../connectors/chains/polygonAmoy.js"),require("../../../connectors/chains/redstone.js"),require("../../../connectors/chains/sepolia.js"),require("../../../connectors/chains/zora.js"),require("../../../connectors/chains/zoraSepolia.js"),require("../../../connectors/chains/zoraTestnet.js"),require("../../../connectors/chains/utils.js"),require("../../../lib/solana/index.js"),require("../../../theme.js"),require("tinycolor2"),require("../../../lib/cybr53.js"),require("../../../hooks/internal-context.js"),require("../../../hooks/index.js"),require("@heroicons/react/24/outline/ArrowPathIcon"),require("@heroicons/react/24/outline/EyeIcon"),require("@heroicons/react/24/outline/EyeSlashIcon"),require("../../Button.js"),require("../../Loader.js");var d=/*#__PURE__*/u(r),h=/*#__PURE__*/u(o);let j=/*#__PURE__*/n.styled(l.Details).withConfig({displayName:"DetailsContainer",componentId:"sc-7b3b7727-0"})(["flex:1;padding-top:1rem;"]),q=/*#__PURE__*/n.styled.div.withConfig({displayName:"LowerContainer",componentId:"sc-7b3b7727-1"})(["display:flex;flex-direction:column;height:100%;"]);exports.CreateWalletPassword=({buttonHideAnimations:r,buttonLoading:o,password:n="",config:u,isResettingPassword:p,onSubmit:g,onClose:y,onBack:m,onPasswordChange:x,onPasswordGenerate:w})=>{let[f,b]=s.useState(!1),[v,C]=s.useState(!1);s.useEffect((()=>{n&&!v&&C(!0)}),[n]);let I=s.useMemo((()=>v?6>(n?.length||0)?"Password must be at least 6 characters":i.validPasswordRegex.test(n||"")?null:`Invalid characters used ( ${i.getInvalidCharacters(n).join(" ")} )`:null),[n,v]),k=s.useMemo((()=>I?{value:0,label:"Weak"}:i.getPasswordSummary(n)),[n,I]),S=s.useMemo((()=>!n?.length||!!I),[I,n]);/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(a.ModalHeader,{onClose:y,closeable:"user"===u.initiatedBy,backFn:m}),/*#__PURE__*/e.jsx(t.RefactorSpacerTop,{}),/*#__PURE__*/e.jsxs(l.EmbeddedWalletScreenContainer,{children:[/*#__PURE__*/e.jsxs(l.Header,{children:[/*#__PURE__*/e.jsx(d.default,{height:48,width:48,stroke:"var(--privy-color-accent)"}),/*#__PURE__*/e.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[p?"Reset":"Set"," your password"]}),/*#__PURE__*/e.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),/*#__PURE__*/e.jsxs(l.PasswordContainer,{children:[/*#__PURE__*/e.jsx(l.PasswordInput,{value:n,onChange:e=>x(e.target.value),onKeyUp:e=>{"Enter"===e.key&&g()},placeholder:"enter or generate a strong password",type:f?"password":"text",style:{paddingRight:"3.8rem"}}),/*#__PURE__*/e.jsxs(l.InputRightIcons,{style:{width:"3.5rem"},children:[f?/*#__PURE__*/e.jsx(l.HiddenIcon,{onClick:()=>b(!1)}):/*#__PURE__*/e.jsx(l.ShownIcon,{onClick:()=>b(!0)}),/*#__PURE__*/e.jsx(l.RegenerateIcon,{onClick:w})]})]}),/*#__PURE__*/e.jsx(l.StrengthMeter,{value:0===k.value?.01:k.value,label:k.label}),/*#__PURE__*/e.jsx(l.StatusText,{error:!!I,children:I||`Password Strength: ${v?k.label:"--"}`}),/*#__PURE__*/e.jsxs(q,{children:[/*#__PURE__*/e.jsx(j,{children:/*#__PURE__*/e.jsxs(l.Details,{children:[/*#__PURE__*/e.jsxs(l.DetailItem,{children:[/*#__PURE__*/e.jsx(h.default,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),/*#__PURE__*/e.jsxs(l.DetailItem,{children:[/*#__PURE__*/e.jsx(h.default,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),/*#__PURE__*/e.jsx(l.NoAnimationPrimaryButton,{onClick:g,loading:o,disabled:S,hideAnimations:r,children:"Continue"})]})]}),/*#__PURE__*/e.jsx(t.RefactorSpacerBottom,{}),/*#__PURE__*/e.jsx(c.BlobbyFooter,{})]})};
