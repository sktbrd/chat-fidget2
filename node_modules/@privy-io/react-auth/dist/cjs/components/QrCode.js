"use strict";var e=require("react/jsx-runtime"),r=require("qrcode"),o=require("react"),i=require("styled-components"),n=require("../configuration/context.js"),s=require("../svg/black-rounded-square.js"),t=require("../utils/index.js");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../config.js"),require("../configuration/defaultClientConfig.js"),require("../constants.js"),require("../configuration/login-methods.js"),require("../configuration/wallets.js"),require("../connectors/chains/index.js"),require("../connectors/chains/arbitrum.js"),require("../connectors/chains/arbitrumSepolia.js"),require("../connectors/chains/avalanche.js"),require("../connectors/chains/avalancheFuji.js"),require("../connectors/chains/base.js"),require("../connectors/chains/baseSepolia.js"),require("../connectors/chains/berachainArtio.js"),require("../connectors/chains/celo.js"),require("../connectors/chains/celoAlfajores.js"),require("../connectors/chains/filecoin.js"),require("../connectors/chains/filecoinCalibration.js"),require("../connectors/chains/garnetHolesky.js"),require("../connectors/chains/holesky.js"),require("../connectors/chains/linea.js"),require("../connectors/chains/lineaTestnet.js"),require("../connectors/chains/lukso.js"),require("../connectors/chains/mainnet.js"),require("../connectors/chains/optimism.js"),require("../connectors/chains/optimismSepolia.js"),require("../connectors/chains/polygon.js"),require("../connectors/chains/polygonAmoy.js"),require("../connectors/chains/redstone.js"),require("../connectors/chains/sepolia.js"),require("../connectors/chains/zora.js"),require("../connectors/chains/zoraSepolia.js"),require("../connectors/chains/zoraTestnet.js"),require("../connectors/chains/utils.js"),require("../lib/solana/index.js"),require("../theme.js"),require("tinycolor2"),require("../lib/cybr53.js"),require("@ethersproject/providers"),require("../connectors/get-legacy-injected-providers.js"),require("../connectors/is-wallet-installed.js"),require("../errors.js"),require("ofetch");var l=/*#__PURE__*/c(r),a=/*#__PURE__*/c(o);let u=(e,r,o,i,n)=>{for(let s=r;s<r+i;s++)for(let r=o;r<o+n;r++){let o=e?.[r];o&&o[s]&&(o[s]=0)}return e},h=({x:r,y:o,cellSize:i,bgColor:n,fgColor:s})=>
/*#__PURE__*/e.jsx(e.Fragment,{children:[0,1,2].map((t=>/*#__PURE__*/e.jsx("circle",{r:i*(7-2*t)/2,cx:r+7*i/2,cy:o+7*i/2,fill:t%2!=0?n:s},`finder-${r}-${o}-${t}`)))}),j=({cellSize:r,matrixSize:o,bgColor:i,fgColor:n})=>/*#__PURE__*/e.jsx(e.Fragment,{children:[[0,0],[(o-7)*r,0],[0,(o-7)*r]].map((([o,s])=>/*#__PURE__*/e.jsx(h,{x:o,y:s,cellSize:r,bgColor:i,fgColor:n},`finder-${o}-${s}`)))}),g=({matrix:r,cellSize:o,color:i})=>/*#__PURE__*/e.jsx(e.Fragment,{children:r.map(((r,n)=>r.map(((r,s)=>r?/*#__PURE__*/e.jsx("rect",{height:o-.4,width:o-.4,x:n*o+.1*o,y:s*o+.1*o,rx:.5*o,ry:.5*o,fill:i},`cell-${n}-${s}`):/*#__PURE__*/e.jsx(a.default.Fragment,{},`circle-${n}-${s}`)))))}),d=({cellSize:r,matrixSize:o,element:i,sizePercentage:n,bgColor:s})=>{if(!i)/*#__PURE__*/return e.jsx(e.Fragment,{});let t=o*(n||.14),c=Math.floor(o/2-t/2),l=Math.floor(o/2+t/2);(l-c)%2!=o%2&&(l+=1);let a=(l-c)*r,u=a-.2*a,h=c*r;/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx("rect",{x:c*r,y:c*r,width:a,height:a,fill:s}),/*#__PURE__*/e.jsx(i,{x:h+.1*a,y:h+.1*a,height:u,width:u})]})},q=r=>{let o=r.outputSize,i=((e,r)=>{let o=l.default.create(e,{errorCorrectionLevel:r}).modules,i=t.convert1dTo2dArray(Array.from(o.data),o.size);return i=u(i,0,0,7,7),i=u(i,i.length-7,0,7,7),u(i,0,i.length-7,7,7)})(r.url,r.errorCorrectionLevel),n=o/i.length,s=t.clamp(2*n,{min:.025*o,max:.036*o});/*#__PURE__*/return e.jsxs("svg",{height:r.outputSize,width:r.outputSize,viewBox:`0 0 ${r.outputSize} ${r.outputSize}`,style:{height:"100%",width:"100%",padding:`${s}px`},children:[/*#__PURE__*/e.jsx(g,{matrix:i,cellSize:n,color:r.fgColor}),/*#__PURE__*/e.jsx(j,{cellSize:n,matrixSize:i.length,fgColor:r.fgColor,bgColor:r.bgColor}),/*#__PURE__*/e.jsx(d,{cellSize:n,element:r.logo?.element,bgColor:r.bgColor,matrixSize:i.length})]})},m=/*#__PURE__*/i.styled.div.withConfig({displayName:"QrContainer",componentId:"sc-aa6883ae-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(e=>`${e.$size}px`),(e=>`${e.$size}px`),(e=>e.$bgColor),(e=>e.$borderColor));exports.QrCode=r=>{let{appearance:o}=n.useAppConfig(),i=r.bgColor||"#FFFFFF",t=r.fgColor||"#000000",c=r.size||160,l="dark"===o.palette.colorScheme?i:t;/*#__PURE__*/return e.jsx(m,{$size:c,$bgColor:i,$fgColor:t,$borderColor:l,children:/*#__PURE__*/e.jsx(q,{url:r.url,logo:{element:r.squareLogoElement??s.BlackRoundedSquare},outputSize:c,bgColor:i,fgColor:t,errorCorrectionLevel:r.errorCorrectionLevel||"Q"})})};
