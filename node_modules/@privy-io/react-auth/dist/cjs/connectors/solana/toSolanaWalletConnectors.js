"use strict";var e=require("@solana/wallet-adapter-base"),r=require("@solana/wallet-standard-wallet-adapter-base"),t=require("@wallet-standard/app"),a=require("./index.js");require("../../hooks/index.js"),require("../../types.js"),require("../base.js"),require("eventemitter3"),require("../errors.js"),require("@ethersproject/logger"),require("@privy-io/js-sdk-core"),require("../../errors.js"),require("ofetch");let l=t=>t.filter(e.isWalletAdapterCompatibleStandardWallet).map((e=>new r.StandardWalletAdapter({wallet:e})));exports.toSolanaWalletConnectors=e=>{let r,{get:o,on:n}=t.getWallets(),s=e?.shouldAutoConnect??!0,i=l(o()),p=i.map((e=>new a.SolanaWalletConnector(e,s))),u=[];return{_setOnConnectorsUpdated:e=>{r=e},onMount:()=>{u.push(n("register",((...e)=>{p=(i=i.concat(...l(e))).map((e=>new a.SolanaWalletConnector(e,s))),r?.(p)})),n("unregister",((...e)=>{p=(i=i.filter((r=>e.some((e=>r.wallet===e))))).map((e=>new a.SolanaWalletConnector(e,s))),r?.(p)})))},onUnmount:()=>{let e=u.pop();for(;e;)e(),e=u.pop()},get:()=>p}};
